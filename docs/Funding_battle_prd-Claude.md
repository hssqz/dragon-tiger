# Gushen AI - 龙虎榜资金博弈分析系统 PRD

## 1. 产品概述

### 1.1 产品定位
**Gushen AI龙虎榜资金博弈分析系统**是一款基于AI技术的智能投资分析工具，专注于深度解析A股龙虎榜数据，为散户投资者提供专业级的资金流向分析和投资决策支持。

### 1.2 核心价值主张
- **AI驱动的深度分析**：运用DeepSeek大模型进行多维度智能解读
- **游资行为透视**：精准识别知名游资操作风格和意图
- **决策辅助智能化**：从复杂数据中提炼可执行的投资建议
- **风险识别前置**：提前预警潜在的投资风险和陷阱

### 1.3 目标用户
- **主要用户**：有一定投资经验的A股散户投资者
- **次要用户**：投资小白希望学习龙虎榜分析方法
- **高级用户**：专业投资者寻求更深层次的市场洞察

## 2. 产品功能架构

### 2.1 核心分析模块

#### 2.1.1 席位性质识别分析
**功能描述**：智能识别和分类龙虎榜上的各类资金性质

**分析维度**：
- **机构专用席位 (Institutional Seat)**
  - **代表者**：公募基金、社保基金、保险资金、QFII等
  - **特点**：价值投资导向，长期趋势投资，基于基本面研究
  - **散户关注点**：机构大量净买入 = 强烈看多信号，基本面获认可

- **知名游资席位 (Famous "Hot Money" Seat)**
  - **代表者**：明星营业部（如中信上海溧阳路、华泰深圳益田路等）
  - **特点**：风格彪悍，擅长**题材炒作和情绪引导**，追求短期暴力拉升，持股时间很短，可能是今天买明天就卖（"一日游"）
  - **散户关注点**：**顶级游资的出现意味着该股短期热度极高，波动会非常剧烈**

- **沪股通/深股通专用席位 (Stock Connect Seat)**
  - **代表者**：通过香港交易所买卖A股的**外资**（北向资金）
  - **特点**：风格多样，**持续净买入的北向资金被市场认为是"聪明钱"**
  - **散户关注点**：关注是持续性买入还是单日脉冲式买入

**AI分析输出**：
```json
{
  "seat_analysis": {
    "institutional_seats": {
      "count": 2,
      "total_net_amount": "1.2亿元",
      "signal_strength": "强烈看多",
      "analysis": "机构资金大幅净流入，基本面获得认可"
    },
    "hot_money_seats": {
      "famous_seats": ["成都系", "温州帮"],
      "total_net_amount": "0.8亿元", 
      "risk_level": "高",
      "analysis": "知名游资进场，短期波动剧烈"
    }
  }
}
```

#### 2.1.2 资金力量对比分析
**功能描述**：量化分析买卖双方的资金实力对比

**核心指标**：
- **净买入 (Net Buy)**：买方前五总金额 > 卖方前五总金额
  - **散户关注点**：**明确的积极信号**，主力资金积极抢筹
  - **强度评估**：净买入金额占当天成交额比例

- **净卖出 (Net Sell)**：卖方前五总金额 > 买方前五总金额  
  - **散户关注点**：**明确的警示信号**，主力资金大量出货

- **买卖均衡**：买卖双方金额相差不大
  - **散户关注点**：多空分歧较大，主力内部可能存在换手

**AI分析输出**：
```json
{
  "capital_battle": {
    "net_direction": "净买入",
    "net_amount": "1.28亿元",
    "net_rate": "8.76%",
    "signal_strength": "强",
    "battle_intensity": "激烈",
    "market_sentiment": "乐观",
    "risk_assessment": "中等"
  }
}
```

#### 2.1.3 资金集中度分析
**功能描述**：分析资金在买卖双方的集中程度

**分析类型**：
- **买方高度集中**："一家独大"或主力锁筹
  - **散户关注点**：**非常强的看多信号**，实力极强的主力主导行情

- **卖方高度集中**：主力不计成本出货  
  - **散户关注点**：**非常强的看空信号**，应高度警惕

- **买卖双方都比较分散**：散户和普通游资参与
  - **散户关注点**：市场合力不足，走势不确定性较高

#### 2.1.4 上榜原因关联分析
**功能描述**：结合上榜原因分析资金行为的持续性

**上榜原因类型**：
- **换手率异常**（>20%）：筹码激烈交换，短期变盘概率高
- **振幅异常**（±15%）：剧烈震荡中的主力行为分析
- **连续涨停/跌停**：持续性强于单日异动
- **3日涨幅偏离值20%**：持续性不如连续涨停

## 3. 技术架构设计

### 3.1 数据处理流程
```
原始龙虎榜数据 → 数据清洗 → 席位标签化 → AI深度分析 → 结果输出
```

### 3.2 AI分析引擎
**基础模型**：DeepSeek-R1（支持推理思考过程）
**分析策略**：深度优先，模块化分析，最终拼装

**分析模块拆分**：
1. **席位性质识别模块**
2. **资金流向分析模块** 
3. **集中度计算模块**
4. **风险评估模块**
5. **投资建议生成模块**

### 3.3 输出格式标准化
所有AI分析结果统一采用JSON格式，便于前端展示和后续处理。

## 4. 用户体验设计

### 4.1 分析报告结构
每份龙虎榜分析报告包含以下部分：

1. **一句话总结**：核心结论先行
2. **关键数据概览**：净流入、集中度、风险等级
3. **深度分析内容**：
   - 席位性质解读
   - 资金博弈分析  
   - 游资行为解码
   - 风险提示
4. **操作建议**：具体的买卖策略指导
5. **教育内容**：帮助用户理解分析逻辑

### 4.2 交互方式
- **智能问答**：基于分析结果的深度问答
- **可视化展示**：资金流向图、席位分布图
- **个性化推送**：基于用户持仓的定制分析

## 5. 数据流程与API设计

### 5.1 输入数据格式
基于`test-seat.json`格式，包含：
- 股票基本信息（代码、名称、涨跌幅等）
- 买入席位详情（金额、比例、游资标签）
- 卖出席位详情（金额、比例、游资标签）

### 5.2 AI分析接口调用
使用`deepseek_interface.py`提供的能力：

```python
# JSON格式分析示例
analysis_prompt = f"""
请深度分析以下龙虎榜数据：
{seat_data}

分析要求：
1. 识别席位性质和知名游资
2. 计算资金博弈态势
3. 评估集中度和风险
4. 给出操作建议

请按照JSON格式输出分析结果。
"""

result = deepseek_interface.generate_json_output(
    prompt=analysis_prompt,
    json_schema_example=json_schema,
    max_tokens=65536,
    temperature=0.7
)
```

### 5.3 输出数据结构
```json
{
  "summary": {
    "conclusion": "一句话总结",
    "signal_strength": "强/中/弱",
    "risk_level": "高/中/低",
    "recommendation": "买入/观望/卖出"
  },
  "seat_analysis": {
    "institutional_analysis": {},
    "hot_money_analysis": {}, 
    "foreign_capital_analysis": {}
  },
  "capital_battle": {
    "net_flow": {},
    "concentration": {},
    "battle_intensity": {}
  },
  "risk_assessment": {
    "risk_factors": [],
    "warning_signals": [],
    "attention_points": []
  },
  "trading_strategy": {
    "entry_price": "建议买入价位",
    "position_size": "仓位建议", 
    "stop_loss": "止损价位",
    "take_profit": "止盈策略"
  },
  "educational_content": {
    "key_concepts": [],
    "analysis_logic": "",
    "learning_points": []
  }
}
```

## 6. 产品迭代规划

### 6.1 MVP版本（V1.0）
- ✅ 基础席位性质识别
- ✅ 资金流向分析
- ✅ 简单风险提示
- ✅ JSON格式输出

### 6.2 进阶版本（V2.0）
- 🔄 历史表现回测
- 🔄 游资跟踪功能
- 🔄 多日连续分析
- 🔄 个性化推荐

### 6.3 高级版本（V3.0）
- ⏳ 实时监控预警
- ⏳ 社区互动功能
- ⏳ 智能策略回测
- ⏳ AI学习优化

## 7. 成功指标

### 7.1 产品指标
- **分析准确率**：预测方向的准确性 >70%
- **用户满意度**：NPS评分 >60
- **内容完读率**：深度分析内容完读率 >60%
- **用户留存**：月活留存率 >40%

### 7.2 业务指标  
- **用户投资收益**：使用产品后的平均收益提升
- **风险控制效果**：风险提示的有效性
- **教育价值**：用户投资能力提升情况

## 8. 技术实现要点

### 8.1 LLM Prompt Engineering
- **系统角色定义**：专业的龙虎榜分析师
- **输出格式控制**：严格的JSON Schema约束
- **推理过程展示**：利用DeepSeek-R1的thinking能力
- **错误处理机制**：重试和验证机制

### 8.2 数据质量保证
- **数据验证**：席位数据完整性检查
- **异常处理**：缺失数据的合理填充
- **结果校验**：AI输出结果的逻辑性验证

### 8.3 性能优化
- **缓存策略**：相同数据的分析结果缓存
- **异步处理**：大批量数据的异步分析
- **资源管理**：API调用频率和成本控制

---

**备注**：本PRD基于Gushen AI"双灵魂驱动"原则设计，通过AI技术创新解决散户投资者在龙虎榜分析中的真实痛点，实现技术能力与用户需求的完美结合。 