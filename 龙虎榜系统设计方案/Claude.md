# 🎯 Gushen AI 龙虎榜系统设计方案

## 一、系统概述

基于每日获取的四张数据表构建的智能龙虎榜分析系统，旨在帮助散户投资者理解游资动向，做出更好的投资决策。

### 核心数据源
- **游资档案库**（hm_list_data.csv）：111位游资的完整画像
- **交易流水库**（hm_stock_details_*.csv）：每日游资买卖明细  
- **龙虎榜榜单**（top_list.csv）：上榜股票及原因
- **榜单详情库**（top_data.csv）：更详细的龙虎榜数据

## 二、功能模块设计

### 1. 游资画像模块 🎭

#### 核心价值
让散户快速了解"谁在买卖"

#### 功能点

##### 1.1 游资档案卡片
- **基础信息**：名称、常用营业部、资金规模
- **操作风格标签**：如"打板专家"、"趋势玩家"、"锁仓高手"
- **历史战绩**：成功率、平均收益、代表作
  
##### 1.2 游资关系图谱
- **联动关系**：哪些游资经常一起行动
- **对手盘分析**：谁经常接谁的盘
- **营业部网络**：同一营业部的不同马甲

#### 实现方案
```python
# 游资画像数据结构
{
    "name": "赵老哥",
    "style_tags": ["短线打板", "龙头接力", "主线题材"],
    "success_rate": 0.72,
    "avg_profit": 0.15,
    "famous_stocks": ["省广集团", "通策医疗"],
    "related_players": ["章盟主", "炒股养家"],
    "营业部马甲": ["浙商证券绍兴分公司", "华泰证券浙江分公司"]
}
```

### 2. 实时追踪模块 📡

#### 核心价值
实时掌握游资动向

#### 功能点

##### 2.1 今日龙虎榜速览
- 上榜股票列表（按热度排序）
- 上榜原因分类统计
- 游资参与度排行

##### 2.2 游资动向追踪
- 今日活跃游资TOP10
- 游资买入/卖出排行
- 游资抱团股票提醒

##### 2.3 异动预警系统
- 多游资联合买入预警
- 知名游资大手笔买入
- 游资集体出逃警报

#### 实现方案
```python
# 实时监控算法
def detect_dragon_tiger_signals():
    # 1. 游资抱团检测
    if 同一股票出现3个以上知名游资买入:
        发送预警("游资抱团信号")
    
    # 2. 资金异动检测
    if 单个游资买入金额 > 1亿:
        发送预警("超级大单信号")
    
    # 3. 风险预警
    if 知名游资集体卖出:
        发送预警("风险预警信号")
```

### 3. 策略分析模块 🧠

#### 核心价值
将游资操作转化为可执行策略

#### 功能点

##### 3.1 游资跟踪策略
- **跟随买入**：识别值得跟随的游资买入信号
- **避险卖出**：游资出逃时的应对策略
- **接力策略**：如何接游资的二板、三板

##### 3.2 板块轮动分析
- 游资偏好板块统计
- 板块资金流向地图
- 下一个热点预测

##### 3.3 个股机会挖掘
- 游资建仓股筛选
- 潜力股预判（基于游资历史偏好）
- 风险股排雷（游资出逃股）

### 4. AI智能解读 🤖

#### 核心价值
降低理解门槛，提供专业解读

#### 功能点

##### 4.1 龙虎榜解读Agent
- 自动解读上榜原因
- 分析游资意图
- 给出操作建议

##### 4.2 问答机器人
- "这个游资靠谱吗？"
- "为什么今天涨停还上龙虎榜？"
- "游资都在卖，我该怎么办？"

##### 4.3 每日复盘报告
- 龙虎榜全景分析
- 游资操作复盘
- 明日关注重点

### 5. 个性化服务 👤

#### 核心价值
千人千面的定制服务

#### 功能点

##### 5.1 自选股龙虎榜监控
- 持仓股上榜提醒
- 游资买卖变化通知
  
##### 5.2 游资关注列表
- 关注特定游资动向
- 定制化推送其操作

##### 5.3 风险偏好匹配
- 根据用户风格推荐合适的游资策略
- 个性化风险提示

## 三、技术实现路径

### 第一阶段：基础功能（2周）
1. 数据导入和清洗系统
2. 游资档案展示页面
3. 每日龙虎榜列表
4. 基础搜索功能

### 第二阶段：核心分析（3周）
1. 游资买卖追踪系统
2. 实时预警功能
3. AI解读Agent开发
4. 策略生成引擎

### 第三阶段：智能化升级（4周）
1. 个性化推荐系统
2. 深度分析报告
3. 问答机器人
4. 预测模型优化

## 四、产品亮点

1. **化繁为简**：将复杂的龙虎榜数据转化为简单易懂的信号
2. **实时追踪**：不错过任何重要的游资动向
3. **AI赋能**：智能解读和个性化建议
4. **风险提示**：及时预警潜在风险

## 五、商业价值

1. **基础版**：免费提供龙虎榜数据和基础分析
2. **进阶版**：实时预警、深度分析报告
3. **专业版**：AI策略、个性化服务、专属顾问

## 六、数据字段说明

### hm_list_data.csv - 游资档案表
- name: 游资名称/昵称
- desc: 游资特点描述
- orgs: 常用营业部列表

### hm_stock_details_*.csv - 游资交易明细表
- 游资名称: 对应游资档案中的name
- 股票代码: 交易标的
- 股票名称: 交易标的名称
- 买入金额: 当日买入金额
- 卖出金额: 当日卖出金额
- 净交易金额: 买入-卖出
- 交易方向: 净买入/净卖出
- 营业部: 交易使用的营业部

### top_list.csv - 龙虎榜榜单
- trade_date: 交易日期
- ts_code: 股票代码
- name: 股票名称
- close: 收盘价
- pct_change: 涨跌幅
- turnover_rate: 换手率
- amount: 成交额
- l_sell: 龙虎榜卖出金额
- l_buy: 龙虎榜买入金额
- l_amount: 龙虎榜成交额
- net_amount: 龙虎榜净买额
- net_rate: 龙虎榜净买占比
- amount_rate: 龙虎榜成交占比
- float_values: 流通市值
- reason: 上榜原因

### top_data.csv - 龙虎榜详情表
- 包含更详细的龙虎榜数据字段

---

## 总结

这个系统设计充分利用了现有的数据资源，通过AI技术降低了散户理解和使用龙虎榜的门槛，真正做到了"授人以渔"。每个功能模块都可以独立开发和迭代，确保了项目的可落地性。

---

## 七、技术实现分工 (Code vs. LLM)

根据Gushen AI的["双灵魂驱动"原则][[memory:8830386277290593550]]，每个功能点都需要明确区分代码和LLM的职责边界，确保技术创新与用户需求的完美结合。

### **1. 游资画像模块 🎭**

#### 1.1 游资档案卡片
- **Code 实现**:
  - 从`hm_list_data.csv`读取基础信息（name, orgs, desc）
  - 基于`hm_stock_details_*.csv`计算量化战绩：
    - 成功率：买入后N日收益为正的概率
    - 平均收益：所有操作的平均收益率
    - 活跃度：近期交易频次统计
    - 资金规模：单日最大买入金额
  - 代表作筛选：收益率最高的前3只股票
- **LLM 赋能**:
  - **输入**: 游资的desc字段 + 量化战绩数据
  - **输出**: 生成个性化的操作风格标签（如"打板专家"、"趋势玩家"、"锁仓高手"）
  - **输出**: 生成一段游资画像描述，例如："赵老哥是A股知名游资，以**短线打板**和**龙头接力**闻名，近60个交易日成功率72%，偏好**主线题材**龙头股，操作风格激进但纪律性强。"

#### 1.2 游资关系图谱
- **Code 实现**:
  - 联动关系计算：统计在同一股票、同一日期共同出现的游资对
  - 对手盘分析：A买入+B卖出的频次统计
  - 营业部网络：基于orgs字段的营业部聚类分析
  - 生成关系图的节点和边数据
- **LLM 赋能**:
  - **输入**: 关系图数据 + 代表性联动案例
  - **输出**: 解读游资关系，如："赵老哥与章盟主形成'龙头双子星'，经常在强势股上接力配合，胜率显著高于单独操作。"

### **2. 实时追踪模块 📡**

#### 2.1 今日龙虎榜速览
- **Code 实现**: 100% Code
  - 从`top_list.csv`获取上榜股票列表
  - 按成交额、涨跌幅、上榜原因等维度排序
  - 统计上榜原因分类（涨停、跌停、振幅等）
  - 计算游资参与度排行

#### 2.2 游资动向追踪  
- **Code 实现**:
  - 基于`hm_stock_details_*.csv`计算今日活跃游资TOP10
  - 统计游资买入/卖出金额排行
  - 识别游资抱团股票（3个以上知名游资同时买入）
- **LLM 赋能**:
  - **输入**: 游资动向统计数据 + 股票基本信息
  - **输出**: 生成动向分析，如："今日**作手新一**重仓买入光伏龙头，**炒股养家**紧随其后，显示游资对**光伏设备**板块的强烈看好。"

#### 2.3 异动预警系统
- **Code 实现**:
  - 多游资联合买入检测算法
  - 超大单买入监控（>5000万）
  - 知名游资集体出逃算法
  - 实时预警触发机制
- **LLM 赋能**:
  - **输入**: 预警触发的具体数据 + 相关背景信息
  - **输出**: 生成预警解读，如："⚠️ **游资抱团信号**：赵老哥、章盟主、作手新一三大游资合计买入XX股份2.1亿，罕见抱团操作，建议重点关注。**风险提示**：游资抱团往往意味着短期爆发力强但持续性存疑，注意及时止盈。"

### **3. 策略分析模块 🧠**

#### 3.1 游资跟踪策略
- **Code 实现**:
  - 值得跟随的游资筛选算法（基于历史胜率）
  - 游资买入信号识别（首次建仓、加仓等）
  - 游资出逃信号检测（减仓比例>50%）
  - 接力时机计算（二板、三板的技术指标）
- **LLM 赋能**:
  - **输入**: 游资操作信号 + 股票技术面数据 + 市场环境
  - **输出**: 生成具体策略建议，如："**跟随买入信号**：赵老哥今日首次买入XX股份8000万，该股刚突破前高，建议在回调至5日线附近时跟随建仓，仓位控制在20%以内。**止损位**：跌破赵老哥成本价即止损。"

#### 3.2 板块轮动分析
- **Code 实现**:
  - 游资偏好板块统计（近期买入金额按板块汇总）
  - 板块资金流向计算（净买入金额变化）
  - 板块轮动周期识别算法
- **LLM 赋能**:
  - **输入**: 板块资金流数据 + 宏观政策信息 + 市场热点
  - **输出**: 生成轮动分析和预测，如："游资近期从**新能源车**板块撤离，资金开始流向**AI芯片**和**军工**板块。结合当前政策环境，预计**军工**板块有望成为下一个资金聚集地。"

#### 3.3 个股机会挖掘
- **Code 实现**:
  - 游资建仓股筛选器（首次买入且金额>2000万）
  - 潜力股算法（基于游资历史偏好的相似股筛选）
  - 风险股识别（游资集体减仓>70%）
- **LLM 赋能**:
  - **输入**: 筛选结果 + 个股基本面信息 + 技术面数据
  - **输出**: 生成机会解读，如："**潜力股发现**：XX科技具备游资偏好的三大特征：1）科技成长属性；2）流通市值适中（50亿）；3）近期有催化剂。且技术形态类似游资历史牛股**省广集团**突破前的形态，值得关注。"

### **4. AI智能解读 🤖**

#### 4.1 龙虎榜解读Agent
- **Code 实现**:
  - 提取上榜股票的基础数据（价格、成交量、上榜原因）
  - 识别买卖双方席位性质（游资、机构、普通营业部）
  - 计算多空力量对比数据
- **LLM 赋能**: 100% LLM驱动
  - **输入**: 完整的龙虎榜结构化数据 + 相关背景信息
  - **输出**: 生成三段式解读（机会分析、风险提示、操作策略）

#### 4.2 问答机器人
- **Code 实现**:
  - 问题分类识别（游资咨询、股票咨询、策略咨询）
  - 相关数据检索（根据问题类型调取对应数据）
- **LLM 赋能**: 主要由LLM驱动
  - **输入**: 用户问题 + 检索到的相关数据
  - **输出**: 个性化回答，支持多轮对话

#### 4.3 每日复盘报告
- **Code 实现**:
  - 生成当日龙虎榜统计数据
  - 计算各类指标和排行榜
  - 识别异常事件和重要信号
- **LLM 赋能**:
  - **输入**: 当日全量数据统计 + 重要事件列表
  - **输出**: 生成结构化复盘报告：
    - 市场概况总结
    - 游资操作复盘
    - 重点股票分析
    - 明日关注重点

### **5. 个性化服务 👤**

#### 5.1 自选股龙虎榜监控
- **Code 实现**: 100% Code
  - 用户自选股列表管理
  - 自选股上榜检测
  - 游资买卖变化监控
  - 推送触发机制

#### 5.2 游资关注列表
- **Code 实现**:
  - 用户关注游资列表管理
  - 游资操作变化检测
- **LLM 赋能**:
  - **输入**: 关注游资的操作数据
  - **输出**: 生成个性化推送内容，如："您关注的**赵老哥**今日买入XX股份，这是他近期首次出手**科技股**，可能预示着板块偏好的转向。"

#### 5.3 风险偏好匹配
- **Code 实现**:
  - 用户风险偏好评估算法
  - 游资风格与用户偏好匹配度计算
  - 个性化推荐排序算法
- **LLM 赋能**:
  - **输入**: 用户画像 + 匹配的游资策略
  - **输出**: 生成个性化建议，如："基于您的**稳健型**风险偏好，建议关注**炒股养家**的操作，他偏好**趋势股**，持股周期较长，风险相对可控。避免跟随**作手新一**的短线打板策略。"

### **技术架构总结**

1. **数据层 (Code)**：所有数据处理、计算、统计都由代码完成
2. **分析层 (Code + LLM)**：代码提供结构化数据，LLM进行深度分析
3. **呈现层 (LLM)**：将分析结果转化为用户易懂的语言和建议
4. **交互层 (LLM)**：处理用户问询，提供个性化服务

这种分工确保了系统的[高效性和智能化][[memory:8830386277290593550]]，让每个组件都能发挥最大价值。 